/**
 * $finest nav
 */
 
.primary {
	.site-naviagtion {
		border-top: 1px solid $keylinegrey;
		border-bottom: 1px solid $keylinegrey;
		// background-color: #fff;
		@extend .cf;
		//overflow: hidden;
		@include media-query(lap-and-up) {  
    		padding:0;
    	}
    	@include media-query(palm) { 	
			position:  absolute;
			top: $base-spacing-unit *1.9;
			width: 101%;
			margin-left: -$base-spacing-unit;	
			/* temp idea */
			//background: $darkgrey;
	    	a {
	    		display: block;
		    	padding: $half-spacing-unit;
		    	@include font-size($milli-size);
		    	line-height: 1.4;
	    	}
	    	#menu-secondary-navigation {
			    float: none;
			}
	    }
	}
	
	#menu-main-navigation {
		width: 60%;
		float: left;
		margin-bottom: 0;
		position: relative;
			.sub-menu {
				list-style-type: none;
				max-height:0;
				overflow:hidden;
				opacity: 0;
				width: 166.75%; // weird magic number
				float: left;
				margin-left: 0;
				z-index: 1000;
				background: $darkgrey;
				position: absolute;
				left: 0;
				 -webkit-transition: all .6s;
					-moz-transition: all .6s;
	                 -ms-transition: all .6s;
	                  -o-transition: all .6s;
	                     transition: all .6s;

	       &:focus  {
					  max-height: 999px;
					  display: block;
					  -webkit-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
					     -moz-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
	                  box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
					  opacity: 1;
					}
		            @include media-query(palm) {
						width: 100%;
					}
				li {
					//width: 25%;
					float: left;
				}
				a {
					color: #fff;
					background: $darkgrey !important;
					&:hover,
					&:focus {
						background: lighten($darkgrey, 10%) !important;
					}
				}
				/*li:nth-child(odd) {  
					float:left;
				}
				li:nth-child(even) {  
					float:right;
				}*/
				.current-menu-item a {
					&:hover {
						background: $darkgrey;
						color: #fff;
					}
				}
				
				a {
					display: block;
				}
				
			}
			.is-shown {
				  max-height: 999px;
				  display: block;
				  -webkit-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
				     -moz-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
                  box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
				  opacity: 1;
			}

			/*.current-menu-parent a {
			    background: $lightgrey;
				&:hover {
					color: $brand-color;
				}
		    }*/
		   .current-menu-item {
					.sub-menu {
						a {
						background: $darkgrey;
						color: #fff;
							&:hover {
								background: lighten($darkgrey, 10%);
							}
						}
					}
				}
		  .current-menu-item {
		  		a {
				background: $lightgrey;
				}
				&:hover {
				color: #fff;
				background: $darkgrey;
				}
				@include media-query(palm) {
				width: 100%;
				background: #eee;
				}
			}
		
	}
	
	.sub-select {
		background: $darkgrey !important;
		color: #fff !important;
	}
	
	a {
		font-family: $body-face;
		padding: $base-spacing-unit+2px $base-spacing-unit $base-spacing-unit+2px $base-spacing-unit;
		color:$brand-color;
		@include font-size($milli-size);
		line-height: 1.4;
		text-transform: uppercase;
		&:hover {
			background: $darkgrey;
			color: #fff;
			text-decoration: none;
		}
	}
	
	.toggle__target a[rel] {
		&:after {
			font-family: 'finest-icons';
			content: "\25bc";
			padding-left: $half-spacing-unit;
		}
		&.is-pressed {
			background: #eee;
			color: $brand-color;
		}
		&.is-pressed:after {
			content: "\25b4";
		}
	}
		
	#menu-toggle__target {
		font-family: 'finest-icons';
		display: block;
		float: right;
		margin: $base-spacing-unit;
		//padding-bottom: $base-spacing-unit + 3px;
		padding: $half-spacing-unit *1.5;
		text-transform: uppercase;
		@extend .btn;
		@extend .btn--finest;
		&:active {
			color: $brand-color;
		}
		&:before {
			content: "\2630";
			//padding-right: $half-spacing-unit;
		}
		&.is-pressed:before {
			content: "\2612";
		}
		&:after {
			//content: "\25bc";
			//padding-left: $half-spacing-unit;
		}
		
		&.is-pressed:after {
			//content: "\25b4";
		}
	}	
}

.nav--mobile {	
	@include media-query(lap-and-up) {
	    > li{
	
	        &,
	        > a{
	            display:inline-block;
	           *display:inline;
	            zoom:1;
	        }
	    }		
	}
}
 
.secondary {
	#menu-secondary-navigation {
		float: right;
	}
	ul {
		margin-bottom: 0;
	}
	a {
		padding: $base-spacing-unit;
		color: #9e9e9e;
		&:hover {
			color: $brand-color;
			text-decoration: none;
		}
	}
	.current-menu-item a {
		color: $brand-color;
		}
	.icon-twitter-nav {
		a {
			font-family: sans-serif;
				&:before {
			    font-family: 'finest-icons';
				content:"\2604";
				padding-right: $half-spacing-unit/2;
				}
		}
	}
	.icon-twitter-nav a:hover {
		color: #00aced;
	}
	@include media-query(lap) {  
    	a {
	    	padding: $base-spacing-unit $half-spacing-unit/1.5;
	    	// @include font-size($milli-size);
    	}
    }
	@include media-query(palm) { 	
		position:  absolute;
		top: 0px;
		width: 101%;
		margin-left: -$base-spacing-unit;	
		ul {
			display: table;
			width: 100%;
			background:#eee;
		} 
		li {
			display: table-cell;
		}
    	a {
    		display: block;
	    	padding: $half-spacing-unit;
	    	@include font-size($milli-size);
    	}
    	#menu-secondary-navigation {
		    float: none;
		}
    }
}

.nav--banner {
	@include media-query(palm) {
    	text-align:center;
    	float: none;
    }
}

#sub-navigation {
	z-index: 9;
	clear: both;
	background: #eee;
}
 
.sidr{
	display:none;
	position:absolute;
	position:fixed;
	top:0;
	height:100%;
	z-index:999999;
	width:260px;
	overflow-x:none;
	overflow-y:auto;
	background: $darkgrey;
	color:#fff;
	}
	
.sidr-class-accessibility,
#sidr-id-menu-toggle__target,
.sidr-class-screen-reader-text {
	@extend .visuallyhidden;
}

.sidr.right{
	left:auto;
	right:-260px
	}
	
.sidr.left{
	left:-260px;
	right:auto
	}
	
.sidr ul{
	display:block;
	margin:0 0 15px;
	padding:0;
	//border-top:1px solid #1a1a1a;
	}
	
.sidr ul li a,
.sidr ul li span {
	display:block;
	margin:0;
	padding: $base-spacing-unit;
	text-decoration:none;
	color:#fff;
	border-bottom:1px solid #1a1a1a;
	}
	
.sidr ul li ul{
	border-bottom:none;
	margin:0;
	}
	
.sidr ul li ul li a {
	border-bottom:none;
	margin:0;
	}
	
.sidr ul li ul li:last-child{
	border-bottom:none;
	}

.sidr ul li a:hover {
	// background: lighten($darkgrey, 5%);
}
	
.sidr ul li ul li:hover>a,
.sidr ul li ul li:hover>span,
.sidr ul li ul li.active>a,
.sidr ul li ul li.active>span,
.sidr ul li ul li.sidr-class-active>a,
.sidr ul li ul li.sidr-class-active>span{
	// background: lighten($darkgrey, 5%);
}

.sidr ul li ul li a,
.sidr ul li ul li span{
	color:rgba(255,255,255,0.8);
	padding-left: 40px;
	background: darken($darkgrey, 5%);
}

.sidr-class-main-search {
	border-bottom:1px solid #1a1a1a;
}

#sidr-id-s {
	padding: $half-spacing-unit;
	margin: $base-spacing-unit -3px $base-spacing-unit $base-spacing-unit;
	border: 0;
}

.sidr-class-icon-search {
	@extend .btn--finest;
	padding: $half-spacing-unit;
	border: 1px solid $brand-color;
}

// Animate sub menu side

.sidr-class-sub-menu {
	max-height:0;
	overflow:hidden;
 	-webkit-transition: all .6s;
	   -moz-transition: all .6s;
	    -ms-transition: all .6s;
	     -o-transition: all .6s;
	        transition: all .6s;
}

.sidr-class-sub-menu.is-shown {
	max-height: 999px;
}

.sidr .sidr-class-menu-item a {
	padding-left: $base-spacing-unit*2.35;
}

.sidr .sidr-class-menu-item a[rel] {
	padding-left: $base-spacing-unit;
}

.sidr-class-toggle__target a[rel] {
		&:before {
			//@include font-size($milli-size);
			content: "\2b";
			margin-right: $half-spacing-unit;
		}
		&.is-pressed {
		
		}
		&.is-pressed:before {
			content: "\2d";
		}
	}




	.primary #menu-main-navigation .sub-menu.focus {
		max-height: 999px;
	  display: block;
	  -webkit-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
	     -moz-box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
            box-shadow:  0px 2px 4px 0px rgba(0, 0, 0, 0.2);
	  opacity: 1;
	}
